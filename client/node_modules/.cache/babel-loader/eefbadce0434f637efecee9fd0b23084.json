{"ast":null,"code":"var _jsxFileName = \"/Users/jacob.robinson/Desktop/Projects/monitor/client/src/components/sensor-history-graph.jsx\";\nimport React from 'react';\nimport * as ReactGoogleCharts from 'react-google-charts';\nimport * as firebase from 'firebase';\nfirebase.initializeApp({\n  apiKey: 'AIzaSyB87R_NkLPy2lUQFHb_3japiTDrlJkvp7c',\n  authDomain: 'forcloud-monitor-db.firebaseapp.com',\n  databaseURL: 'https://forcloud-monitor-db.firebaseio.com',\n  projectId: 'forcloud-monitor-db',\n  storageBucket: '',\n  messagingSenderId: '538640326535',\n  appId: '1:538640326535:web:b62493e6dd63f11b48bd22'\n});\nconst database = firebase.database();\n\nclass SensorHistoryGraph extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      headers: [],\n      rows: []\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          headers = _this$state.headers,\n          rows = _this$state.rows;\n    console.log(headers.concat(rows));\n    return React.createElement(ReactGoogleCharts.Chart, {\n      chartType: \"Line\",\n      data: headers.concat(rows),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    });\n  }\n\n  componentDidMount() {\n    const headers = this.state.headers;\n    database.ref('sensors/history').on('child_added', child => {\n      const row = [new Date(Number.parseInt(child.key))];\n      child.val().sensors.forEach(sensor => {\n        const name = sensor.name;\n\n        if (!headers.includes(name)) {\n          headers.push(name);\n        }\n\n        row.push(sensor.value);\n      });\n      this.setState({\n        headers,\n        rows: this.state.rows.concat([row])\n      });\n    });\n  }\n\n}\n\nexport default SensorHistoryGraph;","map":{"version":3,"sources":["/Users/jacob.robinson/Desktop/Projects/monitor/client/src/components/sensor-history-graph.jsx"],"names":["React","ReactGoogleCharts","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","SensorHistoryGraph","Component","state","headers","rows","render","console","log","concat","componentDidMount","ref","on","child","row","Date","Number","parseInt","key","val","sensors","forEach","sensor","name","includes","push","value","setState"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,iBAAZ,MAAmC,qBAAnC;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEAA,QAAQ,CAACC,aAAT,CAAuB;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,qCAFS;AAGrBC,EAAAA,WAAW,EAAE,4CAHQ;AAIrBC,EAAAA,SAAS,EAAE,qBAJU;AAKrBC,EAAAA,aAAa,EAAE,EALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE;AAPc,CAAvB;AAUA,MAAMC,QAAQ,GAAGT,QAAQ,CAACS,QAAT,EAAjB;;AAEA,MAAMC,kBAAN,SAAiCZ,KAAK,CAACa,SAAvC,CAAiD;AAAA;AAAA;AAAA,SAC/CC,KAD+C,GACvC;AAAEC,MAAAA,OAAO,EAAE,EAAX;AAAeC,MAAAA,IAAI,EAAE;AAArB,KADuC;AAAA;;AAG/CC,EAAAA,MAAM,GAAI;AAAA,wBACkB,KAAKH,KADvB;AAAA,UACAC,OADA,eACAA,OADA;AAAA,UACSC,IADT,eACSA,IADT;AAGRE,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACK,MAAR,CAAeJ,IAAf,CAAZ;AAEA,WACE,oBAAC,iBAAD,CAAmB,KAAnB;AAAyB,MAAA,SAAS,EAAC,MAAnC;AAA0C,MAAA,IAAI,EAAED,OAAO,CAACK,MAAR,CAAeJ,IAAf,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AAEDK,EAAAA,iBAAiB,GAAI;AAAA,UACXN,OADW,GACC,KAAKD,KADN,CACXC,OADW;AAGnBJ,IAAAA,QAAQ,CAACW,GAAT,CAAa,iBAAb,EAAgCC,EAAhC,CAAmC,aAAnC,EAAkDC,KAAK,IAAI;AACzD,YAAMC,GAAG,GAAG,CAAC,IAAIC,IAAJ,CAASC,MAAM,CAACC,QAAP,CAAgBJ,KAAK,CAACK,GAAtB,CAAT,CAAD,CAAZ;AAEAL,MAAAA,KAAK,CAACM,GAAN,GAAYC,OAAZ,CAAoBC,OAApB,CAA4BC,MAAM,IAAI;AAAA,cAC5BC,IAD4B,GACnBD,MADmB,CAC5BC,IAD4B;;AAGpC,YAAI,CAACnB,OAAO,CAACoB,QAAR,CAAiBD,IAAjB,CAAL,EAA6B;AAC3BnB,UAAAA,OAAO,CAACqB,IAAR,CAAaF,IAAb;AACD;;AAEDT,QAAAA,GAAG,CAACW,IAAJ,CAASH,MAAM,CAACI,KAAhB;AACD,OARD;AAUA,WAAKC,QAAL,CAAc;AAAEvB,QAAAA,OAAF;AAAWC,QAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAAX,CAAgBI,MAAhB,CAAuB,CAACK,GAAD,CAAvB;AAAjB,OAAd;AACD,KAdD;AAeD;;AA/B8C;;AAkCjD,eAAeb,kBAAf","sourcesContent":["import React from 'react'\nimport * as ReactGoogleCharts from 'react-google-charts'\nimport * as firebase from 'firebase'\n\nfirebase.initializeApp({\n  apiKey: 'AIzaSyB87R_NkLPy2lUQFHb_3japiTDrlJkvp7c',\n  authDomain: 'forcloud-monitor-db.firebaseapp.com',\n  databaseURL: 'https://forcloud-monitor-db.firebaseio.com',\n  projectId: 'forcloud-monitor-db',\n  storageBucket: '',\n  messagingSenderId: '538640326535',\n  appId: '1:538640326535:web:b62493e6dd63f11b48bd22'\n})\n\nconst database = firebase.database()\n\nclass SensorHistoryGraph extends React.Component {\n  state = { headers: [], rows: [] }\n\n  render () {\n    const { headers, rows } = this.state\n\n    console.log(headers.concat(rows))\n\n    return (\n      <ReactGoogleCharts.Chart chartType=\"Line\" data={headers.concat(rows)}></ReactGoogleCharts.Chart>\n    )\n  }\n\n  componentDidMount () {\n    const { headers } = this.state\n\n    database.ref('sensors/history').on('child_added', child => {\n      const row = [new Date(Number.parseInt(child.key))]\n\n      child.val().sensors.forEach(sensor => {\n        const { name } = sensor\n\n        if (!headers.includes(name)) {\n          headers.push(name)\n        }\n\n        row.push(sensor.value)\n      })\n\n      this.setState({ headers, rows: this.state.rows.concat([row]) })\n    })\n  }\n}\n\nexport default SensorHistoryGraph"]},"metadata":{},"sourceType":"module"}